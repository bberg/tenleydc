{% extends "base.html" %}

{% block content %}
<div class="directory-page">
    <div class="directory-header">
        <h1><i class="fas fa-palette"></i> Arts & Culture</h1>
        <p class="directory-intro">Galleries, music venues, theaters, and cultural institutions enriching Columbia Heights. Discover the creative spaces that make our neighborhood vibrant.</p>
    </div>

    <!-- Filters -->
    <div class="directory-filters">
        <div class="filter-group">
            <label>Type:</label>
            <div class="filter-pills">
                <a href="/arts" class="filter-pill {% if not current_type %}active{% endif %}">All</a>
                <a href="/arts?type=gallery" class="filter-pill {% if current_type == 'gallery' %}active{% endif %}">
                    <i class="fas fa-image"></i> Galleries
                </a>
                <a href="/arts?type=music" class="filter-pill {% if current_type == 'music' %}active{% endif %}">
                    <i class="fas fa-music"></i> Music
                </a>
                <a href="/arts?type=theater" class="filter-pill {% if current_type == 'theater' %}active{% endif %}">
                    <i class="fas fa-masks-theater"></i> Theater
                </a>
                <a href="/arts?type=literary" class="filter-pill {% if current_type == 'literary' %}active{% endif %}">
                    <i class="fas fa-book"></i> Literary
                </a>
            </div>
        </div>
    </div>

    <!-- Results count -->
    <p class="results-count">
        Showing {{ institutions|length }} venue{% if institutions|length != 1 %}s{% endif %}
        {% if current_type %} ({{ current_type }}){% endif %}
    </p>

    <!-- Arts Grid -->
    {% if institutions %}
    <div class="business-grid">
        {% for venue in institutions %}
        <a href="/arts/{{ venue.slug }}" class="business-card {% if venue.featured %}featured{% endif %}">
            {% if venue.featured %}
            <span class="featured-badge"><i class="fas fa-star"></i> Featured</span>
            {% endif %}
            <div class="business-card-header">
                <h3>{{ venue.name }}</h3>
                <span class="business-category">{{ venue.type | title }}{% if venue.subcategory %} | {{ venue.subcategory | title }}{% endif %}</span>
            </div>
            <p class="business-address">
                <i class="fas fa-map-marker-alt"></i>
                {{ venue.address }}
            </p>
            {% if venue.admission %}
            <p class="venue-admission">
                <i class="fas fa-ticket"></i>
                {% if venue.admission == 'free' %}Free Admission{% else %}{{ venue.admission }}{% endif %}
            </p>
            {% endif %}
            {% if venue.description %}
            <p class="business-description">{{ venue.description[:120] }}{% if venue.description|length > 120 %}...{% endif %}</p>
            {% endif %}
            {% if venue.history and venue.history.opened %}
            <div class="business-history-teaser">
                <i class="fas fa-clock-rotate-left"></i>
                Est. {{ venue.history.opened }}
            </div>
            {% endif %}
        </a>
        {% endfor %}
    </div>
    {% else %}
    <div class="no-results">
        <i class="fas fa-palette"></i>
        <h3>No venues found</h3>
        <p>Try adjusting your filters or <a href="/arts">view all venues</a>.</p>
    </div>
    {% endif %}

    <!-- Community Note -->
    <div class="directory-note">
        <h3>Know a venue we're missing?</h3>
        <p>Help us document the neighborhood's cultural scene. <a href="/about">Get in touch</a> with additions or corrections.</p>
    </div>
</div>
{% endblock %}
